import{a as F,b as p,c as k,d as A,f as E,g as I,h as D,m as N,o as T}from"./chunk-OX5MQXUP.js";import{$ as i,B as f,Ba as y,Ca as O,D as b,Ea as S,Fa as L,H as g,N as v,O as l,P as n,Q as t,R as _,T as h,U as C,Z as x,ba as w,ra as P,ta as M,y as r}from"./chunk-WZYVPUJW.js";function z(o,a){o&1&&(n(0,"div",21),i(1," Please enter a valid email address "),t())}function j(o,a){o&1&&(n(0,"span",22),i(1,"\u{1F441}"),t())}function B(o,a){o&1&&(n(0,"span",23),i(1,"\u{1F6AB}"),t())}function R(o,a){o&1&&(n(0,"div",21),i(1," Password is required "),t())}function V(o,a){o&1&&(n(0,"span"),i(1,"Sign In"),t())}function q(o,a){o&1&&(n(0,"span"),i(1,"Signing In..."),t())}function H(o,a){if(o&1&&(n(0,"div",24),i(1),t()),o&2){let s=C();r(),w(" ",s.errorMessage," ")}}var G=class o{constructor(a,s,e){this.fb=a;this.authService=s;this.router=e;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]]})}loginForm;isLoading=!1;errorMessage="";showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){this.loginForm.valid&&(this.isLoading=!0,this.errorMessage="",this.authService.loginAdmin(this.loginForm.value).subscribe({next:a=>{this.isLoading=!1,this.router.navigate(["/admin/dashboard"])},error:a=>{this.isLoading=!1,this.errorMessage=a.error?.message||"Login failed. Please try again."}}))}static \u0275fac=function(s){return new(s||o)(f(N),f(L),f(y))};static \u0275cmp=b({type:o,selectors:[["app-admin-login"]],decls:37,vars:15,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","Enter your email"],["class","error-message",4,"ngIf"],["for","password"],[1,"password-input-container"],["id","password","formControlName","password","placeholder","Enter your password",3,"type"],["type","button",1,"password-toggle",3,"click"],["class","eye-icon",4,"ngIf"],["class","eye-slash-icon",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],[1,"login-footer"],["routerLink","/forgot-password",1,"forgot-password"],["routerLink","/signup",1,"signup-link"],["routerLink","/login/user",1,"user-link"],["class","error-alert",4,"ngIf"],[1,"error-message"],[1,"eye-icon"],[1,"eye-slash-icon"],[1,"error-alert"]],template:function(s,e){if(s&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"\u{1F331} AgriWatch - Admin Login"),t(),n(5,"p"),i(6,"Admins only. Please sign in to continue."),t()(),n(7,"form",3),h("ngSubmit",function(){return e.onSubmit()}),n(8,"div",4)(9,"label",5),i(10,"Email"),t(),_(11,"input",6),g(12,z,2,0,"div",7),t(),n(13,"div",4)(14,"label",8),i(15,"Password"),t(),n(16,"div",9),_(17,"input",10),n(18,"button",11),h("click",function(){return e.togglePasswordVisibility()}),g(19,j,2,0,"span",12)(20,B,2,0,"span",13),t()(),g(21,R,2,0,"div",7),t(),n(22,"button",14),g(23,V,2,0,"span",15)(24,q,2,0,"span",15),t()(),n(25,"div",16)(26,"a",17),i(27,"Forgot Password?"),t(),n(28,"p"),i(29,"Don't have an account? "),n(30,"a",18),i(31,"Sign Up"),t()(),n(32,"p"),i(33,"User? "),n(34,"a",19),i(35,"Go to User Login"),t()()(),g(36,H,2,1,"div",20),t()()),s&2){let d,m,c,u;r(7),l("formGroup",e.loginForm),r(4),x("error",((d=e.loginForm.get("email"))==null?null:d.invalid)&&((d=e.loginForm.get("email"))==null?null:d.touched)),r(),l("ngIf",((m=e.loginForm.get("email"))==null?null:m.invalid)&&((m=e.loginForm.get("email"))==null?null:m.touched)),r(5),x("error",((c=e.loginForm.get("password"))==null?null:c.invalid)&&((c=e.loginForm.get("password"))==null?null:c.touched)),l("type",e.showPassword?"text":"password"),r(),v("aria-label",e.showPassword?"Hide password":"Show password"),r(),l("ngIf",!e.showPassword),r(),l("ngIf",e.showPassword),r(),l("ngIf",((u=e.loginForm.get("password"))==null?null:u.invalid)&&((u=e.loginForm.get("password"))==null?null:u.touched)),r(),l("disabled",e.loginForm.invalid||e.isLoading),r(),l("ngIf",!e.isLoading),r(),l("ngIf",e.isLoading),r(12),l("ngIf",e.errorMessage)}},dependencies:[M,P,T,E,F,k,A,I,D,S,O],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:url(https://images.unsplash.com/photo-1574943320219-553eb213f72d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2072&q=80);background-size:cover;background-position:center;background-attachment:fixed;padding:20px}.login-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 20px 40px #0000001a;padding:40px;width:100%;max-width:400px}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:10px;font-size:2rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.login-form[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;color:#2c3e50;font-weight:500}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e1e8ed;border-radius:10px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.password-input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:50px}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:8px;background:#f5f5f5;border:1px solid #ccc;cursor:pointer;font-size:14px;padding:4px 6px;border-radius:3px;transition:none;display:flex;align-items:center;justify-content:center;width:28px;height:28px;color:#333;font-family:monospace}.password-toggle[_ngcontent-%COMP%]:hover{background-color:#e9e9e9;border-color:#999}.password-toggle[_ngcontent-%COMP%]:focus{outline:1px solid #666;outline-offset:1px}.password-toggle[_ngcontent-%COMP%]:active{background-color:#ddd}.eye-icon[_ngcontent-%COMP%], .eye-slash-icon[_ngcontent-%COMP%]{font-size:12px;line-height:1}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.form-group[_ngcontent-%COMP%]   input.error[_ngcontent-%COMP%]{border-color:#e74c3c}.error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:14px;margin-top:5px}.login-btn[_ngcontent-%COMP%]{width:100%;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:transform .2s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px)}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-footer[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.forgot-password[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.forgot-password[_ngcontent-%COMP%]:hover{text-decoration:underline}.signup-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600}.signup-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:500}.user-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-alert[_ngcontent-%COMP%]{background:#fee;color:#e74c3c;padding:12px;border-radius:8px;margin-top:20px;text-align:center;border:1px solid #fcc}"]})};export{G as AdminLoginComponent};
